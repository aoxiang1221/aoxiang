port: 7890
socks-port: 7891
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

dns:
enable: true
ipv6: false
use-hosts: true
fake-ip-filter:
  - 'mtalk.google.com'

hosts:
  'mtalk.google.com': 108.177.125.188

rule-providers:
  anti-ad_clash:
    type: http
    behavior: domain
    url: "https://anti-ad.net/clash.yaml"
    path: ./ad-block/anti-ad_clash.yaml
    interval: 86400
  
  clash-rules:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt"
    path: ./ad-block/clash-rules.yaml
    interval: 86400

proxies:
  - name: "V2rayä»£ç†"
    type: socks5
    server: 127.0.0.1
    port: 10808
    # username: username
    # password: password
    # tls: true
    # skip-cert-verify: true
    udp: true
  - {name: ğŸ‡­ğŸ‡° å¾®è½¯äº‘ é¦™æ¸¯ 5Gbps, server: trojan-azure-hk-1.forwardserver.xyz, port: 8443, type: trojan, password: DaoZhuYYDS, sni: trojan-azure-hk-1.forwardserver.xyz, skip-cert-verify: false}

proxy-groups:
  - name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - ä¸€å…ƒæœºåœº
      - æœºåœºèŠ‚ç‚¹
      - è‡ªåŠ¨é€‰æ‹©
      - æ‰‹åŠ¨ä»£ç†
      - æ•´åˆ
  - name: ä¸€å…ƒæœºåœº
    type: select
    use:
      - yiyuanjichang
  - name: æœºåœºèŠ‚ç‚¹
    type: select
    use:
      - startmy
      - dadiangan
  - name: æ•´åˆ
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° å¾®è½¯äº‘ é¦™æ¸¯ 5Gbps
  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - startmy
      - dadiangan
  - name: æ‰‹åŠ¨ä»£ç†
    type: select
    proxies:
      - V2rayä»£ç†
  - name: ç›´è¿
    type: select
    proxies:
      - DIRECT
  - name: æ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©

proxy-providers:
  yiyuanjichang:
    type: http
    url: "https://xn--4gq62f52gdss.com/api/v1/client/subscribe?token=0594ad8fb0d510cade0a33d3d6389d13"
    interval: 3600
    path: ./yiyuanjichang.yaml
    health-check:
      enable: true
      interval: 600
      # lazy: true
      url: http://www.gstatic.com/generate_204

  startmy:
    type: http
    url: "https://startmy.cc/link/W1ADHzYPJYV5Bxam?clash=1"
    interval: 3600
    path: ./startmy.yaml
    health-check:
      enable: true
      interval: 600
      # lazy: true
      url: http://www.gstatic.com/generate_204
  
  dadiangan:
    type: http
    url: "https://dadiangan.xyz/api/v1/client/subscribe?token=2e66b83f06771a39bade477c69ac4849&flag=clash"
    interval: 3600
    path: ./dadiangan.yaml
    health-check:
      enable: true
      interval: 600
      # lazy: true
      url: http://www.gstatic.com/generate_204"

rules:
#å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,clash-rules,æ‹¦æˆª
  - RULE-SET,anti-ad_clash,æ‹¦æˆª

#åº”ç”¨åˆ†æµ
  - PROCESS-NAME,com.tencent.mm,èŠ‚ç‚¹é€‰æ‹©
  - PROCESS-NAME,cn.gov.pbc.dcep,ç›´è¿

#ç»•è¿‡å¤§é™†
  - GEOIP,CN,ç›´è¿
  - MATCH,èŠ‚ç‚¹é€‰æ‹©
